<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>Pirate Rush</title>
	<script type="text/javascript" src="js/phaser.min.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.4/socket.io.js"></script>
	<script type="text/javascript" src="js/loading.js"></script>
	<script type="text/javascript" src="js/main.js"></script>
	<script type="text/javascript" src="js/start.js"></script>
	<script type="text/javascript" src="js/end.js"></script>
	<script type="text/javascript" src="js/lvlend.js"></script>
	<script type="text/javascript" src="js/unlockMap.js"></script>
	<script type="text/javascript" src="js/leaderBoard.js"></script>
	<script type="text/javascript" src="js/instructions.js"></script>
	<script type="text/javascript" src="js/ghost.js"></script>
	<script type="text/javascript" src="js/gcomplete.js"></script>
    <style type="text/css">
        body {
            margin: 0;
			background-color: #034f7e;
        }
    </style>
</head>
<body>

	<script type="text/javascript">
		var game = new Phaser.Game(800, 600, Phaser.AUTO);

		var abuttonFrame = 0;
		// console.log('abutton frame set to 0');

		var gameScore;
		var noCannons;
		var level;

		var prevState = "";

		var nextState = "";

		var data = [
			{
				// name : "lol_code",
				name : "--|--",
				score: 0
			},
			{
				// name : "marcos",
				name : "--|--",
				score: 0
			},
			{
				// name : "Chote Bheem",
				name : "--|--",
				score: 0
			},
			{
				// name : "DC Masters",
				name : "--|--",
				score: 0
			},
			{
				// name : "O(1)",
				name : "--|--",
				score: 0
			},
		]

		var l0 = {
			health : 50,
			damage : 20,
			killPoints : 100,
			totalEnemies : 12,
			spawns : 3,
			delay : 2000,
			wait : 700,
			cannons : 1,
			sprites : ['ship0']
		}

		var l1 = {
			health : 100,
			damage : 30,
			killPoints : 250,
			totalEnemies : 16,
			spawns : 4,
			delay : 2000,
			wait : 1200,
			cannons : 2,
			sprites : ['ship1']
		}

		var l2 = {
			health : 150,
			damage : 40,
			killPoints : 400,
			totalEnemies : 20,
			spawns : 2,
			delay : 3000,
			wait : 1500,
			cannons : 3,
			sprites : ['ship20', 'ship21', 'ship22']
		}


		var gameState1 = function() {
		};
		gameState1.prototype = {
			preload: preloadStart,
			create: createStart,
			update: updateStart
		};

		var gameState2 = function() {
		};
		gameState2.prototype = {
			preload: preloadMain,
			create: createMain,
			update: updateMain
		};


		var gameState3 = function() {
		};
		gameState3.prototype = {
			preload: preloadMap,
			create: createMap,
			update: updateMap
		}

		var gameState4 = function() {
		};
		gameState4.prototype = {
			preload: preloadLvl,
			create: createLvl,
			update: updateLvl
		}

		var gameState5 = function() {
		};
		gameState5.prototype = {
			preload: preloadEnd,
			create: createEnd,
			update: updateEnd
		};

		var gameState6 = function() {
		};
		gameState6.prototype = {
			preload: preloadLeadB,
			create: createLeadB,
			update: updateLeadB
		};

		var gameState7 = function() {
		};
		gameState7.prototype = {
			preload: preloadGhost,
			create: createGhost,
			update: updateGhost
		}

		var gameState8 = function() {
		};
		gameState8.prototype = {
			preload: preloadInst,
			create: createInst,
			update: updateInst
		};

		var gameState9 = function() {
		};
		gameState9.prototype = {
			preload: preloadGcomp,
			create: createGcomp,
			update: updateGcomp
		};

		var gameState10 = function() {
		};
		gameState10.prototype = {
			preload: preloadLoading,
			create: createLoading,
			update: updateLoading
		};

		game.state.add('loading', gameState10);
		game.state.add('Start', gameState1);
		game.state.add('Main', gameState2);
 		game.state.add('mapUnlock', gameState3);
 		game.state.add('lvlEnd', gameState4);
		game.state.add('End', gameState5);
		game.state.add('leaderBoard', gameState6);
		game.state.add('Ghost', gameState7);
		game.state.add('instructions', gameState8);
		game.state.add('gcomplete', gameState9);

		gameReset();
		game.state.start('loading');

		function gameReset() {
			gameScore= 0;
			noCannons = [20, 45, 75, 30];
			level = 0;
		}

		function gameSoftReset() {
			gameScore= 0;
			noCannons = [20, 45, 75, 30];
		}
	</script>

</body>
</html>